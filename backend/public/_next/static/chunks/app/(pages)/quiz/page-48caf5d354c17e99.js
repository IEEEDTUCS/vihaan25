(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[190],{347:()=>{},998:(e,t,a)=>{Promise.resolve().then(a.bind(a,8572))},5269:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var s=a(5155),r=a(6874),i=a.n(r);let l=e=>{let{href:t="#",children:a}=e,r=(0,s.jsx)("div",{className:"flex cursor-pointer",children:(0,s.jsxs)("div",{className:"relative bg-[#D9D9D938]/78 lg:px-6 px-4 py-3 text-center lg:min-w-[200px] whitespace-nowrap",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 h-[1px] flex",children:[...Array(15)].map((e,t)=>(0,s.jsx)("div",{className:"h-full bg-[#a89a84]",style:{width:"".concat(8*Math.random()+4,"px"),marginRight:"".concat(8*Math.random()+4,"px")}},t))}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] flex",children:[...Array(15)].map((e,t)=>(0,s.jsx)("div",{className:"h-full bg-[#a89a84]",style:{width:"".concat(8*Math.random()+4,"px"),marginRight:"".concat(8*Math.random()+4,"px")}},t))}),(0,s.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-[1px] flex flex-col",children:[...Array(8)].map((e,t)=>(0,s.jsx)("div",{className:"w-full bg-[#a89a84]",style:{height:"".concat(8*Math.random()+4,"px"),marginBottom:"".concat(8*Math.random()+4,"px")}},t))}),(0,s.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-[1px] flex flex-col",children:[...Array(8)].map((e,t)=>(0,s.jsx)("div",{className:"w-full bg-[#a89a84]",style:{height:"".concat(8*Math.random()+4,"px"),marginBottom:"".concat(8*Math.random()+4,"px")}},t))}),(0,s.jsx)("div",{className:"absolute top-0 left-0 w-2 h-2 border-t border-l border-[#a89a84]"}),(0,s.jsx)("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-[#a89a84]"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-[#a89a84]"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b border-r border-[#a89a84]"}),(0,s.jsx)("p",{className:"text-[#a89a84] font-orbitron font-bold",children:a})]})});return t?(0,s.jsx)(i(),{href:t,passHref:!0,legacyBehavior:!0,children:(0,s.jsx)("a",{rel:"noopener noreferrer",children:r})}):r}},8572:(e,t,a)=>{"use strict";a.d(t,{default:()=>h});var s=a(5155),r=a(2115),i=a(5269),l=a(8999),n=a(1741),o=a(817);function c(e){let{rank1:t,rank2:a,rank3:r}=e;return(0,s.jsxs)("div",{className:"w-full h-screen relative overflow-hidden flex flex-col",children:[(0,s.jsxs)("div",{className:"w-full h-full flex flex-col justify-evenly items-center max-[650px]:hidden",children:[(0,s.jsx)("img",{src:"/Quiz/Stopwatch.svg",alt:"",className:"absolute w-[90%] h-[100%] object-contain z-11 -top-5 -right-90 max-[1300px]:w-[90%] max-[1020px]:hidden max-[1300px]:h-[80%] max-[650px]:right-auto max-[650px]:left-0"}),(0,s.jsxs)("div",{className:"flex flex-col items-center py-10 z-10",children:[(0,s.jsx)("img",{src:"/Quiz/results.svg",alt:"Quiz Results",className:"w-auto h-auto mb-4"}),(0,s.jsx)("h1",{className:"text-7xl tracking-widest text-[#9a857b] font-khinterference text-center",children:"LEADERBOARD"})]}),(0,s.jsxs)("div",{className:"flex flex-wrap justify-start relative bordernew bg-contain bg-no-repeat bg-center w-[80%] h-[100%] pl-5 z-10",name:"leaderboard",children:[(0,s.jsx)("div",{className:"bg-[url('/Quiz/1st-pos.svg')] bg-contain bg-no-repeat w-full h-[50%]  mt-4",children:(0,s.jsx)("div",{className:"flex flex-row w-full justify-center items-center",children:(0,s.jsx)("p",{className:"text-3xl font-bold text-[#4e3124] font-khinterference tracking-tighter text-center max-w-[20%] mt-36 -ml-100",children:t?t.name:"Waiting for player..."})})}),(0,s.jsx)("div",{className:"bg-[url('/Quiz/2nd-pos.svg')] bg-contain bg-no-repeat w-[35%] h-[50%] max-[920px]:w-[55%] max-[1200px]:w-[45%] max-[920px]:h-[35%] mt-4",children:(0,s.jsx)("div",{className:"flex flex-row w-full justify-center items-center",children:(0,s.jsx)("p",{className:"text-lg font-bold text-[#4e3124] font-khinterference tracking-tighter text-center max-w-[40%] mt-28",children:a?a.name:"Waiting for player..."})})}),(0,s.jsx)("div",{className:"bg-[url('/Quiz/3rd-pos.svg')] bg-contain bg-no-repeat w-[30%] h-[50%] max-[920px]:w-[45%] max-[1200px]:w-[40%] max-[920px]:h-[35%] mt-4",children:(0,s.jsx)("div",{className:"flex flex-row w-full justify-center items-center",children:(0,s.jsx)("p",{className:"text-lg font-bold text-[#4e3124] font-khinterference tracking-tighter text-center max-w-[40%] mt-26 ml-4",children:r?r.name:"Waiting for player..."})})})]})]}),(0,s.jsxs)("div",{className:"hidden max-[650px]:flex flex-col items-center justify-start w-full h-full p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center py-4 z-10",children:[(0,s.jsx)("img",{src:"/Quiz/results.svg",alt:"Quiz Results",className:"w-auto h-auto mb-2"}),(0,s.jsx)("h1",{className:"text-4xl tracking-widest text-[#9a857b] font-khinterference text-center",children:"TOP CONVICTS"})]}),(0,s.jsx)("div",{className:"p-[3px] rounded-xl border-12 border-[#916d4c57] bg-gradient-to-r from-[#c69f7000] via-[#b88a4a1d] to-[#a97b3a1a]",children:(0,s.jsxs)("div",{className:" rounded-xl p-4 space-y-4",children:[(0,s.jsx)("div",{className:"relative bg-[url('/Quiz/1st-pos.svg')] bg-contain bg-no-repeat bg-center h-40 w-full flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-[#4e3124] text-xs font-khinterference tracking-normal text-base font-bold ml-23 max-w-[35%] truncate mr-4",children:t?t.name:"Waiting..."})}),(0,s.jsx)("div",{className:"relative bg-[url('/Quiz/2nd-pos.svg')] bg-contain bg-no-repeat bg-center h-40 w-full flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-[#4e3124] text-xs font-khinterference tracking-tight text-base font-bold max-w-[30%] truncate mr-5",children:a?a.name:"Waiting..."})}),(0,s.jsx)("div",{className:"relative bg-[url('/Quiz/3rd-pos.svg')] bg-contain bg-no-repeat bg-center h-40 w-full flex items-center justify-center",children:(0,s.jsx)("p",{className:"text-[#4e3124] text-xs font-khinterference tracking-tight text-base font-bold max-w-[30%] truncate mr-3",children:r?r.name:"Waiting..."})})]})})]})]})}a(347);let d=e=>{let{loading:t,data:a}=e,r=new Date,l=r.getDate().toString().padStart(2,"0"),n=(r.getMonth()+1).toString().padStart(2,"0"),d=r.getFullYear().toString().slice(-2),x="".concat(l,"-").concat(n,"-").concat(d);return t?(0,s.jsx)("p",{className:"font-orbitron text-2xl",children:"Fetching Leaderboard..."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"mt-10",name:"leaderboard",children:(0,s.jsx)(c,{rank1:a[0],rank2:a[1],rank3:a[2]})}),(0,s.jsx)("div",{className:"flex justify-center items-center mt-50 ",children:(0,s.jsx)("img",{src:"/Quiz/Rankings/HEading.svg",alt:""})}),(0,s.jsxs)("div",{className:"p-4 bg-gradient-to-br from-[#E0C9A6] via-[#e8dcc6] to-[#b29164] shadow-inner m-[20%] mb-0 mt-[5%] max-[650px]:m-[8%] min-h-screen rounded-2xl border-4 border-[#8d6e31] outline-dashed border-dotted opacity-80 relative",children:[(0,s.jsx)("div",{className:"absolute top-4 left-4 w-20 h-20 rounded-md border-2 flex items-center justify-center text-xs",children:(0,s.jsx)("img",{src:"/svg/Logo.svg",alt:""})}),(0,s.jsx)("p",{className:"absolute top-14 right-40 -rotate-12 max-[500px]:right-5 font-khinterference text-[#9a272774] text-2xl font-bold",children:x}),(0,s.jsx)("div",{className:"absolute -top-8 -right-1 text-[#9a272774]  max-[500px]:w-60 w-70 h-30",children:(0,s.jsx)("img",{src:"/Quiz/Rankings/Tube.svg",alt:""})}),(0,s.jsx)("div",{className:"overflow-x-auto mt-24",children:(0,s.jsxs)("table",{className:"table-auto w-full border-[#82270037] font-orbitron tracking-normal border-t-8 text-center",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"text-black text-xl ",children:[(0,s.jsx)("th",{className:" py-2 text-left border-[#82270034] border-r-8",children:"RANK"}),(0,s.jsx)("th",{className:"px-4 py-2",children:"NAME"}),(0,s.jsx)("th",{className:"px-4 py-2",children:"EMAIL"}),(0,s.jsx)("th",{className:"px-4 py-2",children:"SCORE"})]})}),(0,s.jsx)("tbody",{children:a.map((e,t)=>(0,s.jsxs)("tr",{className:"text-black text-lg ",children:[(0,s.jsx)("td",{className:"px-4 py-1 text-left border-[#82270048] border-r-8",children:e.rank}),(0,s.jsx)("td",{className:"px-4 py-1",children:e.name}),(0,s.jsx)("td",{className:"px-4 py-1",children:e.email}),(0,s.jsx)("td",{className:"px-4 py-1",children:e.score})]},t))})]})})]}),(0,s.jsx)("div",{className:"absolute mt-50 w-full flex justify-center z-109 ",children:(0,s.jsx)(o.N_,{to:"quiz",smooth:!0,duration:1500,offset:-100,children:(0,s.jsx)(i.A,{href:"",children:"Back To Quiz"})})}),(0,s.jsx)("div",{className:"absolute opacity-80 w-screen h-[50%] -z-10 overflow-y-hidden bg-[url(/Quiz/Rankings/buttonBack.svg)] bg-contain bg-bottom bg-no-repeat",children:(0,s.jsx)("img",{src:"/Quiz/Rankings/Globe.svg",alt:""})})]})},x=e=>{let{option:t}=e;return(0,s.jsx)(n.P.div,{whileInView:{y:0,opacity:1},initial:{opacity:0,y:50},transition:{duration:1.5},viewport:{once:!0},className:"flex cursor-pointer justify-center w-full",children:(0,s.jsxs)("div",{className:"relative bg-[#D9D9D938]/78 hover:bg-[#D9D9D938]/90 lg:px-6 px-4 py-3 text-center min-w-[250px] lg:min-w-[200px] whitespace-nowrap w-full",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 right-0 h-[1px] flex",children:[...Array(50)].map((e,t)=>(0,s.jsx)("div",{className:"h-full bg-[#a89a84] w-full",style:{marginRight:"".concat(8*Math.random()+4,"px")}},t))}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-[1px] flex",children:[...Array(50)].map((e,t)=>(0,s.jsx)("div",{className:"h-full bg-[#a89a84] w-full",style:{marginRight:"".concat(8*Math.random()+4,"px")}},t))}),(0,s.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-[1px] flex flex-col",children:[...Array(8)].map((e,t)=>(0,s.jsx)("div",{className:"w-full bg-[#a89a84] h-full",style:{height:"".concat(8*Math.random()+4,"px"),marginBottom:"".concat(8*Math.random()+4,"px")}},t))}),(0,s.jsx)("div",{className:"absolute right-0 top-0 bottom-0 w-[1px] flex flex-col",children:[...Array(8)].map((e,t)=>(0,s.jsx)("div",{className:"w-full bg-[#a89a84]",style:{height:"".concat(8*Math.random()+4,"px"),marginBottom:"".concat(8*Math.random()+4,"px")}},t))}),(0,s.jsx)("div",{className:"absolute top-0 left-0 w-2 h-2 border-t border-l border-[#a89a84]"}),(0,s.jsx)("div",{className:"absolute top-0 right-0 w-2 h-2 border-t border-r border-[#a89a84]"}),(0,s.jsx)("div",{className:"absolute bottom-0 left-0 w-2 h-2 border-b border-l border-[#a89a84]"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 w-2 h-2 border-b border-r border-[#a89a84]"}),(0,s.jsx)("p",{className:"text-[#a89a84] font-orbitron font-bold",children:t.optionText})]})})},h=()=>{let e="/api",t="".concat(e,"/auth?redirect_uri=").concat(encodeURIComponent("/quiz")),[a,c]=(0,r.useState)(null),[h,m]=(0,r.useState)(null),f=(0,l.useRouter)(),[u,p]=(0,r.useState)(null),[g,b]=(0,r.useState)(!0),[j,w]=(0,r.useState)(!1),[v,y]=(0,r.useState)(""),[N,k]=(0,r.useState)([]),[z,S]=(0,r.useState)(!1),T=async t=>{try{let a=await fetch("".concat(e,"/auth/me"),{headers:{Authorization:"Bearer ".concat(t)}});if(!a.ok)throw Error("Access token invalid");let s=await a.json();p(s),b(!1)}catch(e){throw e}},E=async t=>{try{let a=await fetch("".concat(e,"/auth/refresh"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refreshToken:t})});if(!a.ok)throw Error("Refresh token invalid");let{accessToken:s,refreshToken:r}=await a.json();return sessionStorage.setItem("accessToken",s),localStorage.setItem("refreshToken",r),s}catch(e){return null}};(0,r.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("accessToken"),a=e.get("refreshToken");t&&a&&(sessionStorage.setItem("accessToken",t),localStorage.setItem("refreshToken",a),f.replace("/quiz")),b(!1)},[f]),(0,r.useEffect)(()=>{console.log("checking tokens..."),(async()=>{let e=sessionStorage.getItem("accessToken"),t=localStorage.getItem("refreshToken");if(e){console.log("found accessToken");try{await T(e);return}catch(e){}}else if(t){console.log("found refreshToken");let e=await E(t);if(e)try{await T(e);return}catch(e){}}b(!1)})()},[e]),(0,r.useEffect)(()=>{(async()=>{if(u&&!g)try{let t=sessionStorage.getItem("accessToken"),a=await fetch("".concat(e,"/quiz/today"),{headers:{Authorization:"Bearer ".concat(t)}});if(400===a.status){m("You've Already answered Today's Quiz");return}if(!a.ok)throw Error("Failed to fetch today's quiz");let s=await a.json();c(s)}catch(e){console.error("Error fetching quiz:",e),m("Unable to fetch today’s quiz. Try again later.")}})()},[u,g,e]);let A=async t=>{if(!j)try{let s=sessionStorage.getItem("accessToken");if(!s)throw Error("No access token");let r=await fetch("".concat(e,"/quiz/answer"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({questionId:a.id,optionId:t})}),i=await r.json();r.ok?(u.quizScore=i.score,p(u),console.log(i)):400===r.status?y(i.message):y("error"),w(!0),i.isCorrect?y("Great work detective!"):y("Looks like you missed a clue, detective.")}catch(e){console.error("Error submitting answer:",e),y("error")}};return(0,r.useEffect)(()=>{(async()=>{S(!0);try{let t=await fetch("".concat(e,"/quiz/leaderboard"));if(!t.ok)throw Error("Failed to fetch leaderboard");let a=await t.json();k(a)}catch(e){console.error("Error loading leaderboard:",e)}finally{S(!1)}})()},[e,u,j]),(0,s.jsxs)("div",{children:[(0,s.jsx)("img",{src:"/svg/quiz-ui/vector1.svg",className:"absolute size-[400px] md:size-[600px] top-10"}),(0,s.jsx)("img",{src:"/svg/quiz-ui/vector2.svg",className:"absolute size-[400px] md:size-[600px] bottom-20 right-0"}),(0,s.jsxs)("div",{className:"w-full flex flex-col relative",name:"quiz",children:[(0,s.jsxs)("div",{className:"w-full h-screen flex flex-col",children:[(0,s.jsxs)("div",{className:"w-full flex flex-row justify-between items-center px-2 py-4",children:[(0,s.jsxs)("div",{className:"flex flex-row justify-center items-center space-x-2",children:[(0,s.jsx)("a",{href:"/",className:"font-['Orbitron'] text-md font-medium border border-transparent hover:border hover:border-[#a69188]/50 px-4 py-2 transition duration-150 ease-in-out",children:"← Home"}),(0,s.jsx)("img",{src:"/svg/quiz-ui/divider.svg"})]}),(0,s.jsx)("img",{src:"/svg/quiz-ui/divider.svg",className:"rotate-180 pl-4 md:block hidden"})]}),(0,s.jsx)("img",{src:"/logo.png",className:"h-14 w-14 mx-auto"}),(0,s.jsx)("div",{className:"w-full flex flex-row justify-center items-center px-2 py-4 mt-8",children:g?(0,s.jsx)("p",{children:"Loading..."}):(0,s.jsxs)("div",{className:"w-full flex flex-col items-center justify-between space-y-6 h-[80vh]",children:[(0,s.jsx)("h2",{className:"font-khinterference text-white text-3xl",children:"Quiz of the day"}),u?a&&!j?(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-12 w-full",children:[(0,s.jsx)(n.P.h2,{whileInView:{y:0,opacity:1},initial:{opacity:0,y:-50},transition:{duration:1.5},viewport:{once:!0},className:"font-khinterference md:text-5xl text-2xl text-center",children:a.questionTitle}),(0,s.jsx)("div",{className:"grid md:grid-cols-2 gap-8 text-2xl w-full justify-center items-center md:px-10 px-2",children:a.options.map(e=>(0,s.jsx)("button",{onClick:()=>{A(e.id)},children:(0,s.jsx)(x,{option:e})},e.id))}),(0,s.jsx)(n.P.p,{whileInView:{opacity:1},initial:{opacity:0},transition:{duration:1.5},viewport:{once:!0},className:"text-lg text-center font-khinterference text-white/80",children:"Click on any option to submit your answer"})]}):j?(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-16",children:[(0,s.jsx)(n.P.p,{whileInView:{opacity:1,y:0},initial:{opacity:0,y:-50},transition:{duration:1.5},viewport:{once:!0},className:"font-khinterference text-4xl md:text-6xl",children:v}),(0,s.jsxs)(n.P.p,{whileInView:{opacity:1,y:0},initial:{opacity:0,y:-50},transition:{duration:2},viewport:{once:!0},className:"text-white font-orbitron text-center text-xl",children:["Your  Current  Score:  ",u.quizScore]}),(0,s.jsx)(n.P.div,{whileInView:{opacity:1,x:0},initial:{opacity:0,x:-50},transition:{duration:1.5},viewport:{once:!0},children:(0,s.jsx)(o.N_,{to:"leaderboard",smooth:!0,duration:1500,offset:-100,children:(0,s.jsx)(i.A,{href:"",children:"View Leaderboard"})})})]}):h?(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-16",children:[(0,s.jsx)(n.P.p,{whileInView:{opacity:1,y:0},initial:{opacity:0,y:-50},transition:{duration:1.5},viewport:{once:!0},className:"font-khinterference text-4xl text-center md:text-6xl",children:h}),(0,s.jsxs)(n.P.p,{whileInView:{opacity:1},initial:{opacity:0},transition:{duration:2},viewport:{once:!0},className:"text-white font-orbitron text-xl",children:["Your  Current  Score:  ",u.quizScore]}),(0,s.jsx)(n.P.div,{whileInView:{opacity:1,x:0},initial:{opacity:0,x:-50},transition:{duration:1.5},viewport:{once:!0},children:(0,s.jsx)(o.N_,{to:"leaderboard",smooth:!0,duration:1500,offset:10,children:(0,s.jsx)(i.A,{href:"",children:"View Leaderboard"})})})]}):(0,s.jsx)("p",{className:"font-orbitron text-2xl",children:"Fetching Today's Question..."}):(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center space-y-16 text-2xl -mt-10",children:[(0,s.jsx)("p",{className:"font-orbitron text-xl text-center",children:"You need to sign in to participate"}),(0,s.jsx)("a",{className:"bg-Button font-orbitron px-6 py-4",href:t,children:"Sign in with Google"}),(0,s.jsx)("p",{className:"font-orbitron text-lg text-white/70 text-center",children:"Use the same ID as Devfolio to avail quiz advantage during the event"})]}),(0,s.jsxs)("div",{className:"flex flex-row py-6 space-x-4",children:[(0,s.jsx)("img",{src:"/svg/quiz-ui/divider.svg",className:"hidden md:block"}),(0,s.jsxs)(n.P.h4,{className:"text-sm min-[440px]:text-xl sm:text-2xl font-khinterference text-bold tracking-wider",children:["WELCOME",u?", ".concat(u.name):" CODER"]}),(0,s.jsx)("img",{src:"/svg/quiz-ui/divider.svg",className:"rotate-180 hidden md:block"})]})]})})]}),(0,s.jsx)("div",{className:"w-screen",children:(0,s.jsx)(d,{loading:z,data:N})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[690,741,817,874,441,684,358],()=>t(998)),_N_E=e.O()}]);