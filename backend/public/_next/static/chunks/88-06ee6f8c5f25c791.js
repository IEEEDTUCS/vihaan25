"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[88],{760:(e,t,n)=>{n.d(t,{N:()=>v});var r=n(5155),o=n(2115),i=n(869),l=n(2885),a=n(7494),s=n(845),u=n(1508);class c extends o.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,n=e instanceof HTMLElement&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=n-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function d(e){let{children:t,isPresent:n,anchorX:i}=e,l=(0,o.useId)(),a=(0,o.useRef)(null),s=(0,o.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,o.useContext)(u.Q);return(0,o.useInsertionEffect)(()=>{let{width:e,height:t,top:r,left:o,right:u}=s.current;if(n||!a.current||!e||!t)return;a.current.dataset.motionPopId=l;let c=document.createElement("style");return d&&(c.nonce=d),document.head.appendChild(c),c.sheet&&c.sheet.insertRule('\n          [data-motion-pop-id="'.concat(l,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===i?"left: ".concat(o):"right: ".concat(u),"px !important;\n            top: ").concat(r,"px !important;\n          }\n        ")),()=>{document.head.removeChild(c)}},[n]),(0,r.jsx)(c,{isPresent:n,childRef:a,sizeRef:s,children:o.cloneElement(t,{ref:a})})}let f=e=>{let{children:t,initial:n,isPresent:i,onExitComplete:a,custom:u,presenceAffectsLayout:c,mode:f,anchorX:m}=e,g=(0,l.M)(p),h=(0,o.useId)(),v=(0,o.useCallback)(e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;a&&a()},[g,a]),b=(0,o.useMemo)(()=>({id:h,initial:n,isPresent:i,custom:u,onExitComplete:v,register:e=>(g.set(e,!1),()=>g.delete(e))}),c?[Math.random(),v]:[i,v]);return(0,o.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[i]),o.useEffect(()=>{i||g.size||!a||a()},[i]),"popLayout"===f&&(t=(0,r.jsx)(d,{isPresent:i,anchorX:m,children:t})),(0,r.jsx)(s.t.Provider,{value:b,children:t})};function p(){return new Map}var m=n(2082);let g=e=>e.key||"";function h(e){let t=[];return o.Children.forEach(e,e=>{(0,o.isValidElement)(e)&&t.push(e)}),t}let v=e=>{let{children:t,custom:n,initial:s=!0,onExitComplete:u,presenceAffectsLayout:c=!0,mode:d="sync",propagate:p=!1,anchorX:v="left"}=e,[b,y]=(0,m.xQ)(p),E=(0,o.useMemo)(()=>h(t),[t]),C=p&&!b?[]:E.map(g),O=(0,o.useRef)(!0),w=(0,o.useRef)(E),S=(0,l.M)(()=>new Map),[L,P]=(0,o.useState)(E),[k,I]=(0,o.useState)(E);(0,a.E)(()=>{O.current=!1,w.current=E;for(let e=0;e<k.length;e++){let t=g(k[e]);C.includes(t)?S.delete(t):!0!==S.get(t)&&S.set(t,!1)}},[k,C.length,C.join("-")]);let x=[];if(E!==L){let e=[...E];for(let t=0;t<k.length;t++){let n=k[t],r=g(n);C.includes(r)||(e.splice(t,0,n),x.push(n))}return"wait"===d&&x.length&&(e=x),I(h(e)),P(E),null}let{forceRender:M}=(0,o.useContext)(i.L);return(0,r.jsx)(r.Fragment,{children:k.map(e=>{let t=g(e),o=(!p||!!b)&&(E===k||C.includes(t));return(0,r.jsx)(f,{isPresent:o,initial:(!O.current||!!s)&&void 0,custom:n,presenceAffectsLayout:c,mode:d,onExitComplete:o?void 0:()=>{if(!S.has(t))return;S.set(t,!0);let e=!0;S.forEach(t=>{t||(e=!1)}),e&&(null==M||M(),I(w.current),p&&(null==y||y()),u&&u())},anchorX:v,children:e},t)})})}},1616:e=>{e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(o=r;0!=o--;)if(!e(t[o],n[o]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var r,o,i,l=i[o];if(!e(t[l],n[l]))return!1}return!0}return t!=t&&n!=n}},4436:(e,t,n)=>{n.d(t,{k5:()=>c});var r=n(2115),o={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=r.createContext&&r.createContext(o),l=["attr","size","title"];function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){var r,o,i;r=e,o=t,i=n[t],(o=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(o))in r?Object.defineProperty(r,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[o]=i}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function c(e){return t=>r.createElement(d,a({attr:u({},e.attr)},t),function e(t){return t&&t.map((t,n)=>r.createElement(t.tag,u({key:n},t.attr),e(t.child)))}(e.child))}function d(e){var t=t=>{var n,{attr:o,size:i,title:s}=e,c=function(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}(e,l),d=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",a({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,o,c,{className:n,style:u(u({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),s&&r.createElement("title",null,s),e.children)};return void 0!==i?r.createElement(i.Consumer,null,e=>t(e)):t(o)}},6604:(e,t,n)=>{n.d(t,{W:()=>l});var r=n(2115),o=n(2128);let i={some:0,all:1};function l(e,{root:t,margin:n,amount:a,once:s=!1,initial:u=!1}={}){let[c,d]=(0,r.useState)(u);return(0,r.useEffect)(()=>{if(!e.current||s&&c)return;let r={root:t&&t.current||void 0,margin:n,amount:a};return function(e,t,{root:n,margin:r,amount:l="some"}={}){let a=(0,o.KJ)(e),s=new WeakMap,u=new IntersectionObserver(e=>{e.forEach(e=>{let n=s.get(e.target);if(!!n!==e.isIntersecting){if(e.isIntersecting){let n=t(e.target,e);"function"==typeof n?s.set(e.target,n):u.unobserve(e.target)}else"function"==typeof n&&(n(e),s.delete(e.target))}})},{root:n,rootMargin:r,threshold:"number"==typeof l?l:i[l]});return a.forEach(e=>u.observe(e)),()=>u.disconnect()}(e.current,()=>(d(!0),s?void 0:()=>d(!1)),r)},[t,e,n,s,a]),c}},6896:(e,t,n)=>{n.d(t,{s:()=>c});var r=n(4331),o=n(8802),i=n(5982);function l(e,t){[...t].reverse().forEach(n=>{let r=e.getVariant(n);r&&(0,o.U)(e,r),e.variantChildren&&e.variantChildren.forEach(e=>{l(e,t)})})}function a(){let e=!1,t=new Set,n={subscribe:e=>(t.add(e),()=>void t.delete(e)),start(n,o){(0,r.V1)(e,"controls.start() should only be called after a component has mounted. Consider calling within a useEffect hook.");let l=[];return t.forEach(e=>{l.push((0,i._)(e,n,{transitionOverride:o}))}),Promise.all(l)},set:n=>((0,r.V1)(e,"controls.set() should only be called after a component has mounted. Consider calling within a useEffect hook."),t.forEach(e=>{Array.isArray(n)?l(e,n):"string"==typeof n?l(e,[n]):(0,o.U)(e,n)})),stop(){t.forEach(e=>{!function(e){e.values.forEach(e=>e.stop())}(e)})},mount:()=>(e=!0,()=>{e=!1,n.stop()})};return n}var s=n(2885),u=n(7494);let c=function(){let e=(0,s.M)(a);return(0,u.E)(e.mount,[]),e}},9988:(e,t,n)=>{n.d(t,{T5:()=>I,c4:()=>m,pH:()=>R});var r=n(2115),o=n(7650),i=n(1616);function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function a(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function s(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}let u={NOT_LOADED:"NOT_LOADED",LOADING:"LOADING",LOADED:"LOADED",FAILED:"FAILED",AUTH_FAILURE:"AUTH_FAILURE"};class c{static async load(e,t){var n;let r=e.libraries?e.libraries.split(","):[],o=this.serializeParams(e);this.listeners.push(t),null!=(n=window.google)&&null!=(n=n.maps)&&n.importLibrary?(this.serializedApiParams||(this.loadingStatus=u.LOADED),this.notifyLoadingStatusListeners()):(this.serializedApiParams=o,this.initImportLibrary(e)),this.serializedApiParams&&this.serializedApiParams!==o&&console.warn("[google-maps-api-loader] The maps API has already been loaded with different parameters and will not be loaded again. Refresh the page for new values to have effect.");let i=["maps",...r];await Promise.all(i.map(e=>google.maps.importLibrary(e)))}static serializeParams(e){return[e.v,e.key,e.language,e.region,e.authReferrerPolicy,e.solutionChannel].join("/")}static initImportLibrary(e){if(window.google||(window.google={}),window.google.maps||(window.google.maps={}),window.google.maps.importLibrary){console.error("[google-maps-api-loader-internal]: initImportLibrary must only be called once");return}let t=null,n=()=>t||(t=new Promise((t,n)=>{var r;let o=document.createElement("script"),i=new URLSearchParams;for(let[t,n]of Object.entries(e)){let e=t.replace(/[A-Z]/g,e=>"_"+e[0].toLowerCase());i.set(e,String(n))}i.set("loading","async"),i.set("callback","__googleMapsCallback__"),o.async=!0,o.src="https://maps.googleapis.com/maps/api/js?"+i.toString(),o.nonce=(null==(r=document.querySelector("script[nonce]"))?void 0:r.nonce)||"",o.onerror=()=>{this.loadingStatus=u.FAILED,this.notifyLoadingStatusListeners(),n(Error("The Google Maps JavaScript API could not load."))},window.__googleMapsCallback__=()=>{this.loadingStatus=u.LOADED,this.notifyLoadingStatusListeners(),t()},window.gm_authFailure=()=>{this.loadingStatus=u.AUTH_FAILURE,this.notifyLoadingStatusListeners()},this.loadingStatus=u.LOADING,this.notifyLoadingStatusListeners(),document.head.append(o)}));google.maps.importLibrary=e=>n().then(()=>google.maps.importLibrary(e))}static notifyLoadingStatusListeners(){for(let e of this.listeners)e(this.loadingStatus)}}c.loadingStatus=u.NOT_LOADED,c.serializedApiParams=void 0,c.listeners=[];let d=["onLoad","onError","apiKey","version","libraries"],f=["children"],p=r.createContext(null),m=e=>{let{children:t}=e,n=a(e,f),{mapInstances:o,addMapInstance:i,removeMapInstance:u,clearMapInstances:m}=function(){let[e,t]=(0,r.useState)({});return{mapInstances:e,addMapInstance:(e,n="default")=>{t(t=>l({},t,{[n]:e}))},removeMapInstance:(e="default")=>{t(t=>a(t,[e].map(s)))},clearMapInstances:()=>{t({})}}}(),{status:g,loadedLibraries:h,importLibrary:v}=function(e){let{onLoad:t,onError:n,apiKey:o,version:i,libraries:s=[]}=e,u=a(e,d),[f,p]=(0,r.useState)(c.loadingStatus),[m,g]=(0,r.useReducer)((e,t)=>e[t.name]?e:l({},e,{[t.name]:t.value}),{}),h=(0,r.useMemo)(()=>null==s?void 0:s.join(","),[s]),v=(0,r.useMemo)(()=>JSON.stringify(l({apiKey:o,version:i},u)),[o,i,u]),b=(0,r.useCallback)(async e=>{var t;if(m[e])return m[e];if(!(null!=(t=google)&&null!=(t=t.maps)&&t.importLibrary))throw Error("[api-provider-internal] importLibrary was called before google.maps.importLibrary was defined.");let n=await window.google.maps.importLibrary(e);return g({name:e,value:n}),n},[m]);return(0,r.useEffect)(()=>{(async()=>{try{let e=l({key:o},u);for(let t of(i&&(e.v=i),(null==h?void 0:h.length)>0&&(e.libraries=h),(void 0===e.channel||e.channel<0||e.channel>999)&&delete e.channel,void 0===e.solutionChannel?e.solutionChannel="GMP_visgl_rgmlibrary_v1_default":""===e.solutionChannel&&delete e.solutionChannel,await c.load(e,e=>p(e)),["core","maps",...s]))await b(t);t&&t()}catch(e){n?n(e):console.error("<ApiProvider> failed to load the Google Maps JavaScript API",e)}})()},[o,h,v]),{status:f,loadedLibraries:m,importLibrary:b}}(n),b=(0,r.useMemo)(()=>({mapInstances:o,addMapInstance:i,removeMapInstance:u,clearMapInstances:m,status:g,loadedLibraries:h,importLibrary:v}),[o,i,u,m,g,h,v]);return r.createElement(p.Provider,{value:b},t)},g={onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onContextmenu:"contextmenu",onDblclick:"dblclick",onDrag:"drag",onDragend:"dragend",onDragstart:"dragstart",onHeadingChanged:"heading_changed",onIdle:"idle",onIsFractionalZoomEnabledChanged:"isfractionalzoomenabled_changed",onMapCapabilitiesChanged:"mapcapabilities_changed",onMapTypeIdChanged:"maptypeid_changed",onMousemove:"mousemove",onMouseout:"mouseout",onMouseover:"mouseover",onProjectionChanged:"projection_changed",onRenderingTypeChanged:"renderingtype_changed",onTilesLoaded:"tilesloaded",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed",onCameraChanged:"bounds_changed"},h=["bounds_changed","center_changed","heading_changed","tilt_changed","zoom_changed"],v=["click","contextmenu","dblclick","mousemove","mouseout","mouseover"],b=Object.keys(g),y=new Set(["backgroundColor","clickableIcons","controlSize","disableDefaultUI","disableDoubleClickZoom","draggable","draggableCursor","draggingCursor","fullscreenControl","fullscreenControlOptions","gestureHandling","headingInteractionEnabled","isFractionalZoomEnabled","keyboardShortcuts","mapTypeControl","mapTypeControlOptions","mapTypeId","maxZoom","minZoom","noClear","panControl","panControlOptions","restriction","rotateControl","rotateControlOptions","scaleControl","scaleControlOptions","scrollwheel","streetView","streetViewControl","streetViewControlOptions","styles","tiltInteractionEnabled","zoomControl","zoomControlOptions"]);function E(){var e;return(null==(e=(0,r.useContext)(p))?void 0:e.status)||u.NOT_LOADED}function C(e){return e&&"object"==typeof e&&"lat"in e&&"lng"in e&&Number.isFinite(e.lat)&&Number.isFinite(e.lng)?e:e.toJSON()}let O=()=>r.createElement("div",{style:{position:"absolute",top:0,left:0,bottom:0,right:0,zIndex:999,display:"flex",flexFlow:"column nowrap",textAlign:"center",justifyContent:"center",fontSize:".8rem",color:"rgba(0,0,0,0.6)",background:"#dddddd",padding:"1rem 1.5rem"}},r.createElement("h2",null,"Error: AuthFailure"),r.createElement("p",null,"A problem with your API key prevents the map from rendering correctly. Please make sure the value of the ",r.createElement("code",null,"APIProvider.apiKey")," prop is correct. Check the error-message in the console for further details."));function w(){return E()===u.LOADED}let S=["id","defaultBounds","defaultCenter","defaultZoom","defaultHeading","defaultTilt","reuseMaps","renderingType","colorScheme"],L=["padding"];class P{static has(e){return this.entries[e]&&this.entries[e].length>0}static pop(e){return this.entries[e]&&this.entries[e].pop()||null}static push(e,t){this.entries[e]||(this.entries[e]=[]),this.entries[e].push(t)}}P.entries={};let k=r.createContext(null),I=e=>{let{children:t,id:n,className:o,style:s}=e,c=(0,r.useContext)(p),d=E();if(!c)throw Error("<Map> can only be used inside an <ApiProvider> component.");let[f,m,I]=function(e,t){let n=w(),[o,i]=(0,r.useState)(null),[s,u]=function(){let[e,t]=(0,r.useState)(null);return[e,(0,r.useCallback)(e=>t(e),[t])]}(),c=function(e){let t=function(){let[,e]=(0,r.useReducer)(e=>e+1,0);return e}(),n=(0,r.useRef)({center:{lat:0,lng:0},heading:0,tilt:0,zoom:0});return(0,r.useEffect)(()=>{if(!e)return;let r=google.maps.event.addListener(e,"bounds_changed",()=>{(function(e,t){let n=e.getCenter(),r=e.getZoom(),o=e.getHeading()||0,i=e.getTilt()||0,l=e.getBounds();n&&l&&Number.isFinite(r)||console.warn("[useTrackedCameraState] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),Object.assign(t.current,{center:(null==n?void 0:n.toJSON())||{lat:0,lng:0},zoom:r||0,heading:o,tilt:i})})(e,n),t()});return()=>r.remove()},[e,t]),n}(o),{id:d,defaultBounds:f,defaultCenter:p,defaultZoom:m,defaultHeading:g,defaultTilt:h,reuseMaps:v,renderingType:b,colorScheme:y}=e,E=a(e,S),C=void 0!==e.zoom||void 0!==e.defaultZoom,O=void 0!==e.center||void 0!==e.defaultCenter;for(let e of(f||C&&O||console.warn("<Map> component is missing configuration. You have to provide zoom and center (via the `zoom`/`defaultZoom` and `center`/`defaultCenter` props) or specify the region to show using `defaultBounds`. See https://visgl.github.io/react-google-maps/docs/api-reference/components/map#required"),!E.center&&p&&(E.center=p),!E.zoom&&Number.isFinite(m)&&(E.zoom=m),!E.heading&&Number.isFinite(g)&&(E.heading=g),!E.tilt&&Number.isFinite(h)&&(E.tilt=h),Object.keys(E)))void 0===E[e]&&delete E[e];let k=(0,r.useRef)(void 0);return(0,r.useEffect)(()=>{let r,o;if(!s||!n)return;let{addMapInstance:u,removeMapInstance:p}=t,{mapId:m}=e,g=`${m||"default"}:${b||"default"}:${y||"LIGHT"}`;if(v&&P.has(g)?(r=(o=P.pop(g)).getDiv(),s.appendChild(r),o.setOptions(E),setTimeout(()=>o.setCenter(o.getCenter()),0)):((r=document.createElement("div")).style.height="100%",s.appendChild(r),o=new google.maps.Map(r,l({},E,b?{renderingType:b}:{},y?{colorScheme:y}:{}))),i(o),u(o,d),f){let{padding:e}=f,t=a(f,L);o.fitBounds(t,e)}else C&&O||o.fitBounds({east:180,west:-180,south:-90,north:90});if(k.current){let{mapId:e,cameraState:t}=k.current;e!==m&&o.setOptions(t)}return()=>{k.current={mapId:m,cameraState:c.current},r.remove(),v?P.push(g,o):google.maps.event.clearInstanceListeners(o),i(null),p(d)}},[s,n,d,e.mapId,e.renderingType,e.colorScheme]),[o,u,c]}(e,c);!function(e,t,n){let o=n.center?C(n.center):null,i=null,l=null;o&&Number.isFinite(o.lat)&&Number.isFinite(o.lng)&&(i=o.lat,l=o.lng);let a=Number.isFinite(n.zoom)?n.zoom:null,s=Number.isFinite(n.heading)?n.heading:null,u=Number.isFinite(n.tilt)?n.tilt:null;(0,r.useLayoutEffect)(()=>{if(!e)return;let n={},r=!1;null!==i&&null!==l&&(t.current.center.lat!==i||t.current.center.lng!==l)&&(n.center={lat:i,lng:l},r=!0),null!==a&&t.current.zoom!==a&&(n.zoom=a,r=!0),null!==s&&t.current.heading!==s&&(n.heading=s,r=!0),null!==u&&t.current.tilt!==u&&(n.tilt=u,r=!0),r&&e.moveCamera(n)})}(f,I,e),function(e,t){for(let n of b){let o=t[n],i=g[n];(0,r.useEffect)(()=>{if(!e||!o)return;let t=google.maps.event.addListener(e,i,t=>{o(function(e,t,n){let r={type:e,map:t,detail:{},stoppable:!1,stop:()=>{}};if(h.includes(e)){let e=t.getCenter(),n=t.getZoom(),o=t.getHeading()||0,i=t.getTilt()||0,l=t.getBounds();return e&&l&&Number.isFinite(n)||console.warn("[createEvent] at least one of the values from the map returned undefined. This is not expected to happen. Please report an issue at https://github.com/visgl/react-google-maps/issues/new"),r.detail={center:(null==e?void 0:e.toJSON())||{lat:0,lng:0},zoom:n||0,heading:o,tilt:i,bounds:(null==l?void 0:l.toJSON())||{north:90,east:180,south:-90,west:-180}},r}if(v.includes(e)){var o;if(!n)throw Error("[createEvent] mouse events must provide a srcEvent");return r.domEvent=n.domEvent,r.stoppable=!0,r.stop=()=>n.stop(),r.detail={latLng:(null==(o=n.latLng)?void 0:o.toJSON())||null,placeId:n.placeId},r}return r}(i,e,t))});return()=>t.remove()},[e,i,o])}}(f,e),function(e,t){let n={};for(let e of Object.keys(t))y.has(e)&&(n[e]=t[e]);!function(e,t){let n=(0,r.useRef)(void 0);n.current&&i(t,n.current)||(n.current=t),(0,r.useEffect)(e,n.current)}(()=>{e&&e.setOptions(n)},[n])}(f,e);let x=function(e,t){let{viewport:n,viewState:o}=t;return(0,r.useLayoutEffect)(()=>{if(!e||!o)return;let{latitude:t,longitude:n,bearing:r,pitch:i,zoom:l}=o;e.moveCamera({center:{lat:t,lng:n},heading:r,tilt:i,zoom:l+1})},[e,o]),!!n}(f,e),M=!!e.controlled;(0,r.useEffect)(()=>{if(f)return x&&f.setOptions({disableDefaultUI:!0}),(x||M)&&f.setOptions({gestureHandling:"none",keyboardShortcuts:!1}),()=>{f.setOptions({gestureHandling:e.gestureHandling,keyboardShortcuts:e.keyboardShortcuts})}},[f,x,M,e.gestureHandling,e.keyboardShortcuts]);let j=e.center?C(e.center):null,A=null,N=null;j&&Number.isFinite(j.lat)&&Number.isFinite(j.lng)&&(A=j.lat,N=j.lng);let D=(0,r.useMemo)(()=>{var t,n,r,o,i;return{center:{lat:null!=(t=A)?t:0,lng:null!=(n=N)?n:0},zoom:null!=(r=e.zoom)?r:0,heading:null!=(o=e.heading)?o:0,tilt:null!=(i=e.tilt)?i:0}},[A,N,e.zoom,e.heading,e.tilt]);(0,r.useLayoutEffect)(()=>{if(!f||!M)return;f.moveCamera(D);let e=f.addListener("bounds_changed",()=>{f.moveCamera(D)});return()=>e.remove()},[f,M,D]);let _=(0,r.useMemo)(()=>l({width:"100%",height:"100%",position:"relative",zIndex:x?-1:0},s),[s,x]),z=(0,r.useMemo)(()=>({map:f}),[f]);return d===u.AUTH_FAILURE?r.createElement("div",{style:l({position:"relative"},o?{}:_),className:o},r.createElement(O,null)):r.createElement("div",l({ref:m,"data-testid":"map",style:o?void 0:_,className:o},n?{id:n}:{}),f?r.createElement(k.Provider,{value:z},t):null)};I.deckGLViewProps=!0;let x=new Set,M=(e=null)=>{let t=(0,r.useContext)(p),{map:n}=(0,r.useContext)(k)||{};if(null===t)return!function(...e){let t=JSON.stringify(e);x.has(t)||(x.add(t),console.error(...e))}("useMap(): failed to retrieve APIProviderContext. Make sure that the <APIProvider> component exists and that the component you are calling `useMap()` from is a sibling of the <APIProvider>."),null;let{mapInstances:o}=t;return null!==e?o[e]||null:n||o.default||null};function j(e,t,n){(0,r.useEffect)(()=>{if(!e||!t||!n)return;let r=google.maps.event.addListener(e,t,n);return()=>r.remove()},[e,t,n])}function A(e,t,n){(0,r.useEffect)(()=>{e&&(e[t]=n)},[e,t,n])}function N(e,t,n){(0,r.useEffect)(()=>{if(e&&t&&n)return e.addEventListener(t,n),()=>e.removeEventListener(t,n)},[e,t,n])}let D=r.createContext(null),_={BOTTOM:["50%","100%"]},z=({children:e,styles:t,className:n,anchorPoint:o})=>{let[i,l]=null!=o?o:_.BOTTOM,a=`-${i}`,s=`-${l}`;i.trimStart().startsWith("-")&&(a=i.substring(1)),l.trimStart().startsWith("-")&&(s=l.substring(1));let u=`translate(50%, 100%) translate(${a}, ${s})`;return r.createElement("div",{style:{transform:u}},r.createElement("div",{className:n,style:t},e))};(0,r.forwardRef)((e,t)=>{let{children:n,style:i,className:l,anchorPoint:a}=e,[s,u]=function(e){let[t,n]=(0,r.useState)(null),[o,i]=(0,r.useState)(null),l=M(),a=function(e){let t=w(),n=(0,r.useContext)(p);return(0,r.useEffect)(()=>{t&&n&&n.importLibrary(e)},[t,n,e]),(null==n?void 0:n.loadedLibraries[e])||null}("marker"),{children:s,onClick:u,className:c,onMouseEnter:d,onMouseLeave:f,onDrag:m,onDragStart:g,onDragEnd:h,collisionBehavior:v,clickable:b,draggable:y,position:E,title:C,zIndex:O}=e,S=r.Children.count(s);return(0,r.useEffect)(()=>{if(!l||!a)return;let e=new a.AdvancedMarkerElement;e.map=l,n(e);let t=null;return S>0&&((t=document.createElement("div")).isCustomMarker=!0,e.content=t,i(t)),()=>{var r;e.map=null,null==(r=t)||r.remove(),n(null),i(null)}},[l,a,S]),(0,r.useEffect)(()=>{t&&t.content&&!(S>0)&&(t.content.className=c||"")},[t,c,S]),A(t,"position",E),A(t,"title",null!=C?C:""),A(t,"zIndex",O),A(t,"collisionBehavior",v),(0,r.useEffect)(()=>{t&&(void 0!==y?t.gmpDraggable=y:m||g||h?t.gmpDraggable=!0:t.gmpDraggable=!1)},[t,y,m,h,g]),(0,r.useEffect)(()=>{if(!t)return;let e=void 0!==b||!!u||!!d||!!f;t.gmpClickable=e,e&&null!=t&&t.content&&t.content.nodeType===Node.ELEMENT_NODE&&(t.content.style.pointerEvents="none",t.content.firstElementChild&&(t.content.firstElementChild.style.pointerEvents="all"))},[t,b,u,d,f]),j(t,"click",u),j(t,"drag",m),j(t,"dragstart",g),j(t,"dragend",h),N(null==t?void 0:t.element,"mouseenter",d),N(null==t?void 0:t.element,"mouseleave",f),[t,o]}(e),c=(0,r.useMemo)(()=>s?{marker:s}:null,[s]);return((0,r.useImperativeHandle)(t,()=>s,[s]),u)?r.createElement(D.Provider,{value:c},(0,o.createPortal)(r.createElement(z,{anchorPoint:a,styles:i,className:l},n),u)):null});let T=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth"]),F=["onClick","onDrag","onDragStart","onDragEnd","onMouseOver","onMouseOut"],R=(0,r.forwardRef)((e,t)=>{let n=function(e){let[t,n]=(0,r.useState)(null),o=M(),{onClick:i,onDrag:l,onDragStart:s,onDragEnd:u,onMouseOver:c,onMouseOut:d}=e,f=a(e,F),{position:p,draggable:m}=f;return(0,r.useEffect)(()=>{if(!o){void 0===o&&console.error("<Marker> has to be inside a Map component.");return}let e=new google.maps.Marker(f);return e.setMap(o),n(e),()=>{e.setMap(null),n(null)}},[o]),(0,r.useEffect)(()=>{if(!t)return;let e=google.maps.event;return i&&e.addListener(t,"click",i),l&&e.addListener(t,"drag",l),s&&e.addListener(t,"dragstart",s),u&&e.addListener(t,"dragend",u),c&&e.addListener(t,"mouseover",c),d&&e.addListener(t,"mouseout",d),t.setDraggable(!!m),()=>{e.clearInstanceListeners(t)}},[t,m,i,l,s,u,c,d]),(0,r.useEffect)(()=>{t&&f&&t.setOptions(f)},[t,f]),(0,r.useEffect)(()=>{!m&&p&&t&&t.setPosition(p)},[m,p,t]),t}(e);return(0,r.useImperativeHandle)(t,()=>n,[n]),r.createElement(r.Fragment,null)})}}]);